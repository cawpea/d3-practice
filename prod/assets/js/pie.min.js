function drawPie(t,e){d3.csv("/data/"+t,function(t,e){var a=[];for(var n in e[0])a.push(e[0][n]);render(a)})}function render(t){var e=320,a=240,n=d3.pie(),r=d3.arc().innerRadius(30).outerRadius(100),s=d3.select("#myGraph").selectAll("g").data(n(t)).enter().append("g").attr("transform","translate("+e/2+", "+a/2+")");s.append("path").attr("class","pie").style("fill",function(t,e){return["red","orange","yellow","cyan","green"][e]}).transition().duration(1e3).delay(function(t,e){return 1e3*e}).ease(d3.easeLinear).attrTween("d",function(t,e){var a=d3.interpolate({startAngle:t.startAngle,endAngle:t.startAngle},{startAngle:t.startAngle,endAngle:t.endAngle});return function(t){return r(a(t))}});d3.select("#myGraph").append("text").attr("class","total").attr("transform","translate("+e/2+", "+(a/2+5)+")").text("合計:"+d3.sum(t));s.append("text").attr("class","pieNum").attr("transform",function(t,e){return"translate("+r.centroid(t)+")"}).text(function(t,e){return t.value})}drawPie("mydata2008.csv"),d3.select("#year").on("change",function(){d3.select("#myGraph").selectAll("*").remove(),drawPie("mydata"+this.value+".csv",this.value)});
//# sourceMappingURL=pie.min.js.map
