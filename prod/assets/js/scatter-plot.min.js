function updateData(t){var e=t.map(function(t,e){var a=Math.round(Math.random()*svgWidth),s=Math.round(Math.random()*svgHeight);return[a,s]});return e}function updateGraph(){circleElements=d3.select("#myGraph").selectAll("circle").data(dataSet).transition().attr("cx",function(t,e){return xScale(t[0])+offsetX}).attr("cy",function(t,e){return svgHeight-yScale(t[1])-offsetY})}function drawScale(){var t=d3.max(dataSet,function(t,e){return t[0]}),e=d3.max(dataSet,function(t,e){return t[1]});yScale=d3.scaleLinear().domain([0,e]).range([yAxisHeight,0]),svg.append("g").attr("class","axis").attr("transform","translate("+offsetX+", "+(svgHeight-yAxisHeight-offsetY)+")").call(d3.axisLeft(yScale)),xScale=d3.scaleLinear().domain([0,t]).range([0,xAxisWidth]),svg.append("g").attr("class","axis").attr("transform","translate("+offsetX+", "+(svgHeight-offsetY)+")").call(d3.axisBottom(xScale));var a=svg.append("g"),s=d3.range(50,t,50),r=d3.range(20,e,20);a.selectAll("line.y").data(r).enter().append("line").attr("class","grid").attr("x1",offsetX).attr("y1",function(t,e){return svgHeight-yScale(t)-offsetY}).attr("x2",t+offsetX).attr("y2",function(t,e){return svgHeight-yScale(t)-offsetY}),a.selectAll("line.x").data(s).enter().append("line").attr("class","grid").attr("x1",function(t,e){return xScale(t)+offsetX}).attr("y1",svgHeight-offsetY).attr("x2",function(t,e){return xScale(t)+offsetX}).attr("y2",svgHeight-yAxisHeight-offsetY)}function init(t){var e=d3.select("body").append("div").attr("class","tip");t.forEach(function(t,e){dataSet.push([t.total/100,1*t.bug,1*t.time])}),drawScale(),circleElements=svg.selectAll("circle").data(dataSet),circleElements.enter().append("circle").attr("class","mark").attr("cx",svgWidth/2+offsetX).attr("cy",svgHeight/2-offsetY).attr("r",100).attr("opacity",0).on("mouseover",function(t){var a=parseInt(xScale(t[0])),s=parseInt(yScale(t[1])),r=d3.select(this).datum(),n=(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]));e.style("left",offsetX+a+"px").style("top",offsetY+30+s+"px").style("visibility","visible").text(n+"時間")}).on("mouseout",function(){e.style("visibility","hidden")}).transition().duration(2e3).ease(d3.easeBounce).attr("cx",function(t,e){return xScale(t[0])+offsetX}).attr("cy",function(t,e){return yScale(t[1])}).attr("r",5).attr("opacity",1)}var svg=d3.select("#myGraph"),svgEle=document.getElementById("myGraph"),svgWidth=window.getComputedStyle(svgEle,null).getPropertyValue("width"),svgHeight=window.getComputedStyle(svgEle,null).getPropertyValue("height");svgWidth=parseFloat(svgWidth),svgHeight=parseFloat(svgHeight);var offsetX=30,offsetY=20,xScale,yScale,yAxisHeight=svgHeight-20,xAxisWidth=svgWidth-40,circleElements,dataSet=[];!function(){d3.csv("/data/scatter-plot.csv",function(t,e){init(e)})}();
//# sourceMappingURL=scatter-plot.min.js.map
