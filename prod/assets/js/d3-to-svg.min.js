var d3toSvg=function(){this.$myGraph=d3.select("#myGraph"),this.init()};d3toSvg.prototype={init:function(){this.$svg=this.$myGraph.append("svg"),this.bindEvents(),this.fetchCSVData()},bindEvents:function(){var t=this;d3.selectAll("button").on("click",function(){t.onClickButtion(this)})},onClickButtion:function(t){var a=t.getAttribute("data-src");this.fetchCSVData(a)},initStyle:function(){for(var t=0,a=5;t<a;t++)this.$svg.append("rect").attr("x","50px").attr("y",25*t+"px").attr("width","200px").attr("height","20px");this.setStyleAll()},setStyle:function(t){t.attr("x","10px").attr("y","50px").attr("width","200px").attr("height","30px").transition().duration(3e3).attr("width","50px").attr("class","bar_note")},setStyleAll:function(){d3.selectAll("rect").transition().attr("class",function(t,a){if(2===a)return"bar_note"})},fetchCSVData:function(t){var a=this;d3.csv("/data/"+(t||"mydata.csv")).row(function(t){return{data1:t.item1,data2:t.item2,data3:t.item3}}).get(function(t,n){for(var r=[],e=0,o=n.length;e<o;e++)r.push(n[e].data1);console.log(r),a.showGraph(r)})},fetchJsonData:function(){var t=this;d3.json("/data/mydata.json",function(a,n){if(a)return void console.error(a);console.log(n);for(var r=[],e=0,o=n.length;e<o;e++)r.push(n[e].sales[0]);t.showGraph(r)})},fetchHtmlData:function(){var t=this;d3.html("/data/mydata.html",function(a,n){if(a)return void console.error(a);for(var r=n.querySelectorAll("table tr"),e=[],o=0,i=r.length;o<i;o++){var s=r[o].querySelectorAll("td");if(s&&0!==s.length){var l=s[0].firstChild.nodeValue;e.push(l)}}t.showGraph(e)})},fetchXmlData:function(){_this=this,d3.xml("/data/mydata.xml",function(t,a){if(t)return void console.error(t);for(var n=a.querySelectorAll("data"),r=n[0],e=r.querySelectorAll("sales"),o=[],i=0,s=e.length;i<s;i++){var l=e[i].firstChild.nodeValue;o.push(l)}_this.showGraph(o)})},fetchTextData:function(){var t=this;d3.text("/data/mydata.txt",function(a,n){if(a)return void console.error(a);for(var r=n.split("\n"),e=[],o=r[0].split("/"),i=1,s=o.length;i<s;i++)e.push(o[i]);t.showGraph(e)})},showGraph:function(t){var a=this.$svg.selectAll("rect").data(t);console.log(a),a.exit().remove(),a.enter().append("rect").attr("class","bar").attr("height",20).attr("x",9).attr("y",function(t,a){return 25*a}).call(function(t){t.each(function(t,a){console.log(a+" = "+t)})}),a.attr("width",function(t,a){return t})}},window.addEventListener("load",function(){new d3toSvg});
//# sourceMappingURL=d3-to-svg.min.js.map
